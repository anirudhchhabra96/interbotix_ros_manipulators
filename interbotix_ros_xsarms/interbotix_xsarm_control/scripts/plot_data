import rospy
from std_msgs.msg import Float64
import matplotlib.pyplot as plt

def callback(data):
    global x_data, y_data
    x_data.append(rospy.get_time())
    y_data.append(data.data)  # Access the data from the message

if __name__ == '__main__':
    rospy.init_node('plot_node')

    topic_name = '/your_topic_name'  # Replace with the actual topic name
    rospy.Subscriber(topic_name, Float64, callback)  # Replace Float64 with the correct message type

    x_data = []
    y_data = []

    plt.ion()  # Turn on interactive mode
    fig, ax = plt.subplots()
    line, = ax.plot(x_data, y_data)

    while not rospy.is_shutdown():
        line.set_data(x_data, y_data)
        ax.relim()
        ax.autoscale_view()
        plt.draw()
        plt.pause(0.1)